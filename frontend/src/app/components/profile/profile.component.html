<div class="container dashboard">

  <div class="profile-header card">
    <div class="avatar">ğŸ‘¤</div>
    <div>
      <h2>{{ user.username }}</h2>
      <p>Score global : <span class="highlight">{{ user.globalScore }} pts</span></p>
    </div>
  </div>

  <div class="stats-grid">
    <div class="card stat">
      <h4>Parties jouÃ©es</h4>
      <p>{{ user.gamesPlayed }}</p>
    </div>

    <div class="card stat">
      <h4>Multijoueur</h4>
      <p>{{ user.multiplayer }}</p>
    </div>

    <div class="card stat">
      <h4>Dernier Score</h4>
      <p>{{ gameHistory.length > 0 ? gameHistory[0].scorePlayer1 : 0 }}</p>
    </div>
  </div>

  <div class="card history">
    <h3>Historique des parties</h3>

    <table>
      <thead>
        <tr>
          <th>Jeu</th>
          <th>Date</th>
          <th>Score</th>
          <th>RÃ©sultat</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let game of gameHistory">
          <td>
            <strong *ngIf="game.gameTypeId === 1">ğŸ Snake</strong>
            <strong *ngIf="game.gameTypeId === 2">âŒ Tic-Tac-Toe</strong>
            <strong *ngIf="game.gameTypeId === 3">ğŸ”¢ Sudoku</strong>
            <strong *ngIf="game.gameTypeId === 4">âœŠ Chifoumi</strong>
          </td>
          
          <td>{{ game.startTime | date:'dd/MM HH:mm' }}</td>
          <td>{{ game.scorePlayer1 }} pts</td>
          
          <td [class.win]="game.scorePlayer1 > 0" [class.lose]="game.scorePlayer1 === 0">
            {{ game.scorePlayer1 > 0 ? 'TerminÃ©' : 'Ã‰chec' }}
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="gameHistory.length === 0" class="empty-msg">
      <p>Aucune partie dans la base de donnÃ©es. Va jouer un match !</p>
    </div>
  </div>

</div>